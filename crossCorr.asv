function [ corr lag ] = crossCorr( v1, v2 )
%v1 and v2 are data from two different channels
%returns the max correlation value from computing the cross-correlation
%between each column of v1 and v2
if sum(size(v1) == size(v2)) ~= 2
    return;
end

[numSamples numIntervals] = size(v1);
corr = zeros(numIntervals,1);
lag = zeros(numIntervals,1);

for i = 1:numIntervals
corrVec = xcorr(v1(:,i),v2(:,i), 'coeff');
[a b] = max(abs(corrVec));
corr(i) = corrVec(b); 
end

end

